<!-- =========================
 Codex Mysteria - Menüsystem
 Version: v2.0
 Dieses Menü wird von menu.js dynamisch erweitert & gesteuert.
========================= -->

<nav id="main-header" class="cm-header">
  <!-- Linke Seite: Branding + Seitenname -->
  <div class="cm-header-left">
    <button id="menu-toggle" class="icon-btn" aria-label="Menü öffnen">
      <span class="material-icons">menu</span>
    </button>
    <span id="site-title">Codex Mysteria</span>
    <span id="current-page-name" class="cm-current-page">–</span>
  </div>

  <!-- Rechte Seite: Navigation / Account -->
  <div class="cm-header-right">
    <!-- Seitenbeschreibung / Hilfe -->
    <button id="page-desc-btn" class="icon-btn" title="Seitenbeschreibung / Hilfe">
      <span class="material-icons">info</span>
    </button>

    <!-- Admin-Knopf (nur sichtbar für Admins) -->
    <div id="admin-area" class="admin-area" style="display:none; position:relative;">
      <button id="admin-toggle" class="icon-btn" aria-label="Adminmenü öffnen">
        <span class="material-icons">admin_panel_settings</span>
      </button>
      <div id="admin-popover" class="cm-popover" aria-hidden="true">
        <h4>Admin-Optionen</h4>
        <ul>
          <li><a href="#" data-action="view-as-dm">Ansicht als Spielleiter</a></li>
          <li><a href="#" data-action="view-as-player">Ansicht als Spieler</a></li>
          <li><a href="#" data-action="view-as-guest">Ansicht als Gast</a></li>
        </ul>
      </div>
    </div>

    <!-- Account -->
    <div id="account-area" class="account-area">
      <button id="account-toggle" aria-haspopup="true" aria-expanded="false">
        <span id="account-username">Gast</span>
        <span class="material-icons">account_circle</span>
      </button>
      <div id="account-popover" class="cm-popover" aria-hidden="true">
        <div class="popover-header">
          <strong id="popover-username">Gast</strong><br>
          <small id="popover-role">Gast</small>
        </div>
        <hr>
        <button data-action="account-info">Account-Informationen</button>
        <button data-action="settings">Einstellungen</button>
        <button data-action="logout">Abmelden</button>
      </div>
    </div>
  </div>
</nav>

<!-- =======================
   Desktop-Menü-Leiste
======================= -->
<aside id="sidebar-menu" class="cm-sidebar">
  <ul id="main-menu-list" role="menu"></ul>
</aside>


<!-- =======================
   Inhalts-Navigation (TOC)
======================= -->
<aside id="toc-sidebar" class="cm-toc">
  <h4>Abschnitte</h4>
  <nav id="toc-list"></nav>
</aside>

<!-- =======================
   Mobile Menü Panel
======================= -->
<div id="mobile-panel" class="cm-mobile" aria-hidden="true">
  <div class="cm-mobile-header">
    <span>Menü</span>
    <button id="mobile-close" class="icon-btn" aria-label="Schließen">
      <span class="material-icons">close</span>
    </button>
  </div>
  <nav>
    <ul id="mobile-menu-list"></ul>
  </nav>
</div>

<!-- =======================
   Platz für Modals:
   werden von menu.js generiert:
   - Einstellungen
   - Account-Modal
   - Seitenbeschreibung
   - Guide
======================= -->

<link rel="stylesheet" href="menu.css">
